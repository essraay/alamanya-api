import{d as p,e as l}from"./index.25d6ac81.js";function d(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var y=d,O=Array.isArray,S=O,b=function n(e,r,o,c){var a=c||"";(function(t){return t===null})(e)||function(t){return t===void 0}(e)?r.excludeNull||o.append(a,""):function(t){return t instanceof File}(e)||function(t){return t instanceof Blob}(e)?o.append(a,e):S(e)?e.forEach(function(t,i){var s=a;r.useBrackets&&(s+="["+(r.arrayIndexes?i:"")+"]"),n(t,r,o,s)}):y(e)?Object.entries(e).forEach(function(t){var i=t[0],s=i;c&&(s=r.useDotSeparator?c+"."+i:c+"["+i+"]"),n(t[1],r,o,s)}):function(t){return typeof t=="boolean"}(e)?o.append(a,e?"true":"false"):o.append(a,e)},h={arrayIndexes:!0,excludeNull:!0,useDotSeparator:!1,useBrackets:!0},v=function(n,e,r){return e===void 0&&(e={}),r===void 0&&(r=new FormData),n&&(e=Object.assign({},h,e),b(n,e,r)),r};function A(n){return v(n)}function u(n,e=!1,r="GET",o="FORM_DATA"){return new Promise((c,a)=>{const t={method:r,headers:{}},{authSlice:{user:i}}=p.getState();i&&(t.headers.Authorization=`Bearer ${i.token}`),e&&r==="POST"&&(o==="JSON"&&(t.headers["Content-Type"]="application/json"),t.body=o==="JSON"?JSON.stringify(e):A(e),console.log("options.body :>> ",t.body)),fetch("/api/"+n,t).then(async s=>{const f=await s.json();s.ok?c(f):((s.status===401||s.status===403)&&p.dispatch(l(!1)),a(f))}).catch(s=>{a(s)})})}const g=(n,e)=>u(n,e,"POST"),j=(n,e)=>u(n,e,"POST","JSON"),T=n=>u(n);export{j as a,y as b,T as g,S as i,g as p};
